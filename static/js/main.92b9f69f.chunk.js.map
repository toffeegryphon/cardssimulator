{"version":3,"sources":["websocket/socket.js","card.js","field.js","controls.js","room.js","selection.js","App.js","reportWebVitals.js","index.js"],"names":["socket","io","playCard","cardId","rid","update","data","target","value","emit","response","on","Card","handleClick","event","props","uid","onCardPlayed","className","onClick","this","suit","React","Component","Field","hand","last","slice","Math","max","length","card","push","Controls","handleChangeDraw","setState","drawCount","handleChangeDeal","dealCount","handleInitialize","initialize","handleDraw","count","drawCards","state","onDraw","handleDeal","dealCards","type","onChange","Room","onUpdate","console","log","action","uids","map","filter","includes","concat","_deckSize","_players","field","Selection","onJoined","joined","handleChange","handleJoin","name","joinRoom","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.92b9f69f.chunk.js","sourcesContent":["import { io } from \"socket.io-client\"\n\n// const url = 'ws://0.0.0.0:8080'\nconst url = 'wss://hackillinois-cards.herokuapp.com:53484'\n\nexport const socket = io(url)\n\nsocket.on('connect', () => {\n  // joinRoom('abcd')\n})\n\nexport function joinRoom(name, rid, update) {\n  const data = { name, rid }\n  socket.emit('join', data, (response) => {\n    update(response)\n  })\n}\n\nexport function initialize(rid) {\n  const data = { rid }\n  socket.emit('initialize', data)\n}\n\nexport function playCard(cardId, rid, update) {\n  const data = { target: '_field', value: [cardId], rid }\n  socket.emit('play', data, (response) => {\n    update(response)\n  })\n}\n\nexport function drawCards(count, rid, update) {\n  const data = { count, rid }\n  socket.emit('draw', data, (response) => {\n    update(response)\n  })\n}\n\nexport function dealCards(count, rid) {\n  const data = { count, rid }\n  socket.emit('deal', data)\n}\n","import React from 'react'\nimport { playCard } from './websocket/socket.js'\n\nexport default class Card extends React.Component {\n  handleClick = (event) => {\n    playCard(this.props.uid, this.props.rid, this.props.onCardPlayed)\n  }\n\n  render() {\n    return (\n      <div className='card noselect' onClick={this.handleClick}>\n        {this.props.suit} {this.props.value}\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport Card from './card.js'\nimport { socket } from './websocket/socket.js'\n\nexport default class Field extends React.Component {\n  render () {\n    const hand = []\n    const last = this.props.hand.slice(\n      Math.max(this.props.hand.length - 5, 0)\n    )\n    for (const card of last) {\n      hand.push(\n        <Card \n          key={card.uid}\n          {...card}\n          rid={this.props.rid}\n          onCardPlayed={this.onCardPlayed}\n        />\n      )\n    }\n    return (\n      <div>{hand}</div>\n    )\n  }\n  \n}\n","import React from 'react'\nimport { initialize, drawCards, dealCards } from './websocket/socket.js'\n\nexport default class Controls extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      drawCount: 1,\n      dealCount: 5\n    }\n  }\n\n  handleChangeDraw = (event) => {\n    this.setState({ drawCount: event.target.value })\n  }\n\n  handleChangeDeal = (event) => {\n    this.setState({ dealCount: event.target.value })\n  }\n\n  handleInitialize = (event) => {\n    initialize(this.props.rid)\n  }\n\n  handleDraw = (event) => {\n    drawCards(this.state.drawCount, this.props.rid, this.props.onDraw)\n  }\n\n  handleDeal = (event) => {\n    dealCards(this.state.dealCount, this.props.rid)\n  }\n\n  render() {\n    return (\n      <div>\n        <div>\n          <button onClick={this.handleInitialize}>Start</button>\n        </div>\n        <div>\n          <button onClick={this.handleDraw}>Draw</button>\n          <input\n            type=\"number\"\n            value={this.state.drawCount}\n            onChange={this.handleChangeDraw}\n          />\n        </div>\n        <div>\n          <button onClick={this.handleDeal}>Deal</button>\n          <input type=\"number\"\n            value={this.state.dealCount}\n            onChange={this.handleChangeDeal}/>\n        </div>\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport './room.css'\nimport Field from './field.js'\nimport Card from './card.js'\nimport Controls from './controls.js'\nimport { socket } from './websocket/socket.js'\n\nexport default class Room extends React.Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      _deckSize: 0,\n      _players: {},\n      hand: [\n      ],\n      field: []\n    }\n  }\n\n  componentDidMount() {\n    socket.on('update', (data) => {\n      console.log(data)\n      if (data.target === '_field') {\n        this.setState({ field: this.state.field.concat(data.value) })\n      } else if (data.action === 'add') {\n        this.setState({ hand: this.state.hand.concat(data.value) })\n      }\n    })\n  }\n\n  onUpdate = (response) => {\n    console.log(response)\n    if (response.action === 'remove') {\n      const uids = response.value.map(card => card.uid);\n      this.setState({ hand: this.state.hand.filter((card) => {\n        return !uids.includes(card.uid) \n      })})\n    } else if (response.action === 'add') {\n      console.log(response.value)\n      this.setState({ hand: this.state.hand.concat(response.value) })\n    }\n  }\n\n  render () {\n    const hand = []\n    for (const card of this.state.hand) {\n      hand.push(\n        <Card \n          key={card.uid}\n          {...card}\n          rid={this.props.rid}\n          onCardPlayed={this.onUpdate}\n        />\n      )\n    }\n\n    return (\n      <div>\n        <Field hand={this.state.field}/>\n        <div className=\"hand\">\n          {hand}\n        </div>\n        <Controls \n          rid={this.props.rid} \n          onDraw={this.onUpdate} />\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport Hand from './room.js'\nimport { joinRoom } from './websocket/socket.js'\n\nexport default class Selection extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = { rid: '', joined: false }\n  }\n\n  onJoined = (rid) => {\n    this.setState({ rid, joined: true })\n  }\n\n  handleChange = (event) => {\n    this.setState({ rid: event.target.value })\n  }\n\n  handleJoin = (event) => {\n    // TODO Change to an input field\n    joinRoom('testing', this.state.rid, this.onJoined)\n  }\n\n  render() {\n    if (this.state.joined) {\n      return (\n        <div>\n          <div>Room {this.state.rid}</div>\n          <Hand rid={this.state.rid}/>\n        </div>\n      )\n    }\n    return (\n      <div>\n        <div>Enter Room Code: </div>\n        <input value={this.state.rid} onChange={this.handleChange}/>\n        <button onClick={this.handleJoin}>Join</button>\n      </div>\n    )\n  }\n}\n","import './App.css';\n\nimport Selection from './selection.js'\n\nfunction App() {\n  return (\n    <Selection/>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nimport { socket } from './websocket/socket.js';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nconsole.log(socket);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}