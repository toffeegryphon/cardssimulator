{"version":3,"sources":["websocket/socket.js","card.js","field.js","controls.js","players.js","room.js","selection.js","App.js","reportWebVitals.js","index.js"],"names":["socket","io","playCard","cardId","rid","update","data","target","value","emit","response","on","Card","handleClick","event","props","uid","onCardPlayed","className","onClick","this","suit","React","Component","Field","hand","last","slice","Math","max","length","card","push","Controls","handleChangeDraw","setState","drawCount","handleChangeDeal","dealCount","handleInitialize","initialize","handleDraw","count","drawCards","state","onDraw","handleDeal","dealCards","type","min","onChange","Players","players","Object","entries","sid","player","name","Room","onUpdate","console","log","action","uids","map","filter","includes","concat","_deckSize","_players","field","newState","_deck","_field","Selection","onJoined","joined","handleRidChange","handleNameChange","handleJoin","joinRoom","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.cc83556d.chunk.js","sourcesContent":["import { io } from \"socket.io-client\"\n\n// const url = 'ws://0.0.0.0:8080'\nconst url = 'wss://hackillinois-cards.herokuapp.com'\nconst options = {}\n\nexport const socket = io(url, options)\n\nsocket.on('connect', () => {\n  // joinRoom('abcd')\n})\n\nexport function joinRoom(name, rid, update) {\n  const data = { name, rid }\n  socket.emit('join', data, (response) => {\n    update(response)\n  })\n}\n\nexport function initialize(rid) {\n  const data = { rid }\n  socket.emit('initialize', data)\n}\n\nexport function playCard(cardId, rid, update) {\n  const data = { target: '_field', value: [cardId], rid }\n  socket.emit('play', data, (response) => {\n    update(response)\n  })\n}\n\nexport function drawCards(count, rid, update) {\n  const data = { count, rid }\n  socket.emit('draw', data, (response) => {\n    update(response)\n  })\n}\n\nexport function dealCards(count, rid) {\n  const data = { count, rid }\n  socket.emit('deal', data)\n}\n","import React from 'react'\nimport './card.css'\nimport { playCard } from './websocket/socket.js'\n\nexport default class Card extends React.Component {\n  handleClick = (event) => {\n    playCard(this.props.uid, this.props.rid, this.props.onCardPlayed)\n  }\n\n  render() {\n    return (\n      <div className='card noselect' onClick={this.handleClick}>\n        <div className=\"text\">{this.props.suit}</div>\n        <div className=\"text\">{this.props.value}</div>\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport Card from './card.js'\nimport './field.css'\n\nexport default class Field extends React.Component {\n  render () {\n    const hand = []\n    const last = this.props.hand.slice(\n      Math.max(this.props.hand.length - 5, 0)\n    )\n    for (const card of last) {\n      hand.push(\n        <Card \n          key={card.uid}\n          {...card}\n          rid={this.props.rid}\n          onCardPlayed={this.onCardPlayed}\n        />\n      )\n    }\n    return (\n      <div className=\"field\">{hand}</div>\n    )\n  }\n  \n}\n","import React from 'react'\nimport { initialize, drawCards, dealCards } from './websocket/socket.js'\nimport './controls.css'\n\nexport default class Controls extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      drawCount: 1,\n      dealCount: 5\n    }\n  }\n\n  handleChangeDraw = (event) => {\n    this.setState({ drawCount: event.target.value })\n  }\n\n  handleChangeDeal = (event) => {\n    this.setState({ dealCount: event.target.value })\n  }\n\n  handleInitialize = (event) => {\n    initialize(this.props.rid)\n  }\n\n  handleDraw = (event) => {\n    drawCards(this.state.drawCount, this.props.rid, this.props.onDraw)\n  }\n\n  handleDeal = (event) => {\n    dealCards(this.state.dealCount, this.props.rid)\n  }\n\n  render() {\n    return (\n      <div className=\"controls\">\n        <div className=\"control\">\n          <button onClick={this.handleInitialize}>Start</button>\n        </div>\n        <div className=\"control\">\n          <button onClick={this.handleDraw}>Draw</button>\n          <input\n            type=\"number\" min=\"0\" max=\"52\"\n            value={this.state.drawCount}\n            onChange={this.handleChangeDraw}\n          />\n        </div>\n        <div className=\"control\">\n          <button onClick={this.handleDeal}>Deal</button>\n          <input type=\"number\" min=\"0\" max=\"52\"\n            value={this.state.dealCount}\n            onChange={this.handleChangeDeal}/>\n        </div>\n        <div className=\"info\">Only one player presses start when \n        everyone is ready! That will automatically shuffle the deck. \n        Deal deals to everyone, draw only draws to yourself. Click on a\n        card to play to the field, and the field will show the last \n        5 cards played.</div>\n      </div>\n    )\n  }\n}\n","import React from 'react'\n\nexport default class Players extends React.Component {\n  render() {\n    const players = []\n    for (const [sid, player] of Object.entries(this.props.players)) {\n      players.push(<div key={sid}>{player.name} {player.count}</div>)\n      // players.push(<div key={sid}>{sid} {player}</div>)\n    }\n    return (\n      <div>{players}</div>\n    )\n  }\n}\n","import React from 'react'\nimport './room.css'\nimport Field from './field.js'\nimport Card from './card.js'\nimport Controls from './controls.js'\nimport Players from './players.js'\nimport { socket } from './websocket/socket.js'\n\nexport default class Room extends React.Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      _deckSize: 0,\n      _players: {},\n      hand: [],\n      field: []\n    }\n  }\n\n  componentDidMount() {\n    socket.on('update', (data) => {\n      console.log(data)\n      const newState = {\n        _deckSize: data.state._deck\n      }\n      delete data.state._deck\n      delete data.state._field\n      delete data.state[this.props.sid]\n      newState['_players'] = data.state\n\n      if (data.target === '_field') {\n        newState['field'] = this.state.field.concat(data.value)\n        // this.setState({ field: this.state.field.concat(data.value) })\n      } else if (data.action === 'add') {\n        newState['hand'] = this.state.hand.concat(data.value)\n        // this.setState({ hand: this.state.hand.concat(data.value) })\n      }\n      this.setState(newState)\n    })\n  }\n\n  onUpdate = (response) => {\n    console.log(response)\n    if (response.action === 'remove') {\n      const uids = response.value.map(card => card.uid);\n      this.setState({ hand: this.state.hand.filter((card) => {\n        return !uids.includes(card.uid) \n      })})\n    } else if (response.action === 'add') {\n      console.log(response.value)\n      this.setState({ hand: this.state.hand.concat(response.value) })\n    }\n  }\n\n  render () {\n    const hand = []\n    for (const card of this.state.hand) {\n      hand.push(\n        <Card \n          key={card.uid}\n          {...card}\n          rid={this.props.rid}\n          onCardPlayed={this.onUpdate}\n        />\n      )\n    }\n\n    return (\n      <div className=\"room\">\n        <Players players={this.state._players}/>\n        <Field hand={this.state.field}/>\n        <div className=\"hand\">\n          {hand}\n        </div>\n        <Controls \n          rid={this.props.rid} \n          onDraw={this.onUpdate} />\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport Room from './room.js'\nimport { joinRoom } from './websocket/socket.js'\nimport './selection.css'\n\nexport default class Selection extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = { rid: '', sid: '', name: '', joined: false }\n  }\n\n  onJoined = (data) => {\n    this.setState({ ...data, joined: true })\n  }\n\n  handleRidChange = (event) => {\n    this.setState({ rid: event.target.value })\n  }\n\n  handleNameChange = (event)=> {\n    this.setState({ name: event.target.value })\n  }\n\n  handleJoin = (event) => {\n    // TODO Change to an input field\n    joinRoom(this.state.name, this.state.rid, this.onJoined)\n  }\n\n  render() {\n    if (this.state.joined) {\n      return (\n        <div>\n          <div>Room {this.state.rid}</div>\n          <Room rid={this.state.rid} sid={this.state.sid}/>\n        </div>\n      )\n    }\n    return (\n      <div className=\"selection\">\n        <div>ROOM CODE</div>\n        <input value={this.state.rid} onChange={this.handleRidChange}/>\n        <br/>\n        <br/>\n        <div>DISPLAY NAME</div>\n        <input value={this.state.name} onChange={this.handleNameChange}/>\n        <br/>\n        <br/>\n        <button onClick={this.handleJoin}>Join</button>\n      </div>\n    )\n  }\n}\n","import './App.css';\n\nimport Selection from './selection.js'\n\nfunction App() {\n  return (\n    <Selection/>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nimport { socket } from './websocket/socket.js';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nconsole.log(socket);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}