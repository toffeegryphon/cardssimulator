(this.webpackJsonpcards=this.webpackJsonpcards||[]).push([[0],{45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),c=n(38),s=n.n(c),r=(n(45),n(46),n(11)),o=n(2),d=n(3),l=n(5),u=n(4),h=n(17),j=(n(47),n(48),n(39)),b=Object(j.io)("wss://hackillinois-cards.herokuapp.com",{});function f(e,t,n){var a={target:"_field",value:[e],rid:t};b.emit("play",a,(function(e){n(e)}))}b.on("connect",(function(){}));var O=n(0),p=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).handleClick=function(t){f(e.props.uid,e.props.rid,e.props.onCardPlayed)},e}return Object(d.a)(n,[{key:"render",value:function(){return Object(O.jsxs)("div",{className:"card noselect",onClick:this.handleClick,children:[Object(O.jsx)("div",{className:"text",children:this.props.suit}),Object(O.jsx)("div",{className:"text",children:this.props.value})]})}}]),n}(i.a.Component),v=(n(81),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e,t=[],n=this.props.hand.slice(Math.max(this.props.hand.length-5,0)),a=Object(h.a)(n);try{for(a.s();!(e=a.n()).done;){var i=e.value;t.push(Object(O.jsx)(p,Object(r.a)(Object(r.a)({},i),{},{rid:this.props.rid,onCardPlayed:this.onCardPlayed}),i.uid))}}catch(c){a.e(c)}finally{a.f()}return Object(O.jsx)("div",{className:"field",children:t})}}]),n}(i.a.Component)),m=(n(82),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).handleChangeDraw=function(e){a.setState({drawCount:e.target.value})},a.handleChangeDeal=function(e){a.setState({dealCount:e.target.value})},a.handleInitialize=function(e){!function(e){var t={rid:e};b.emit("initialize",t)}(a.props.rid)},a.handleDraw=function(e){!function(e,t,n){var a={count:e,rid:t};b.emit("draw",a,(function(e){n(e)}))}(a.state.drawCount,a.props.rid,a.props.onDraw)},a.handleDeal=function(e){!function(e,t){var n={count:e,rid:t};b.emit("deal",n)}(a.state.dealCount,a.props.rid)},a.state={drawCount:1,dealCount:5},a}return Object(d.a)(n,[{key:"render",value:function(){return Object(O.jsxs)("div",{className:"controls",children:[Object(O.jsx)("div",{className:"control",children:Object(O.jsx)("button",{onClick:this.handleInitialize,children:"Start"})}),Object(O.jsxs)("div",{className:"control",children:[Object(O.jsx)("button",{onClick:this.handleDraw,children:"Draw"}),Object(O.jsx)("input",{type:"number",min:"0",max:"52",value:this.state.drawCount,onChange:this.handleChangeDraw})]}),Object(O.jsxs)("div",{className:"control",children:[Object(O.jsx)("button",{onClick:this.handleDeal,children:"Deal"}),Object(O.jsx)("input",{type:"number",min:"0",max:"52",value:this.state.dealCount,onChange:this.handleChangeDeal})]}),Object(O.jsx)("div",{className:"info",children:"Only one player presses start when everyone is ready! That will automatically shuffle the deck. Deal deals to everyone, draw only draws to yourself. Click on a card to play to the field, and the field will show the last 5 cards played."})]})}}]),n}(i.a.Component)),x=n(40),C=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){for(var e=[],t=0,n=Object.entries(this.props.players);t<n.length;t++){var a=Object(x.a)(n[t],2),i=a[0],c=a[1];e.push(Object(O.jsxs)("div",{children:[c.name," ",c.count]},i))}return Object(O.jsx)("div",{children:e})}}]),n}(i.a.Component),y=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).onUpdate=function(e){if(console.log(e),"remove"===e.action){var t=e.value.map((function(e){return e.uid}));a.setState({hand:a.state.hand.filter((function(e){return!t.includes(e.uid)}))})}else"add"===e.action&&(console.log(e.value),a.setState({hand:a.state.hand.concat(e.value)}))},a.state={_deckSize:0,_players:{},hand:[],field:[]},a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this;b.on("update",(function(t){console.log(t);var n={_deckSize:t.state._deck};delete t.state._deck,delete t.state._field,delete t.state[e.props.sid],n._players=t.state,"_field"===t.target?n.field=e.state.field.concat(t.value):"add"===t.action&&(n.hand=e.state.hand.concat(t.value)),e.setState(n)}))}},{key:"render",value:function(){var e,t=[],n=Object(h.a)(this.state.hand);try{for(n.s();!(e=n.n()).done;){var a=e.value;t.push(Object(O.jsx)(p,Object(r.a)(Object(r.a)({},a),{},{rid:this.props.rid,onCardPlayed:this.onUpdate}),a.uid))}}catch(i){n.e(i)}finally{n.f()}return Object(O.jsxs)("div",{className:"room",children:[Object(O.jsx)(C,{players:this.state._players}),Object(O.jsx)(v,{hand:this.state.field}),Object(O.jsx)("div",{className:"hand",children:t}),Object(O.jsx)(m,{rid:this.props.rid,onDraw:this.onUpdate})]})}}]),n}(i.a.Component),g=(n(83),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).onJoined=function(e){a.setState(Object(r.a)(Object(r.a)({},e),{},{joined:!0}))},a.handleRidChange=function(e){a.setState({rid:e.target.value})},a.handleNameChange=function(e){a.setState({name:e.target.value})},a.handleJoin=function(e){!function(e,t,n){var a={name:e,rid:t};b.emit("join",a,(function(e){n(e)}))}(a.state.name,a.state.rid,a.onJoined)},a.state={rid:"",sid:"",name:"",joined:!1},a}return Object(d.a)(n,[{key:"render",value:function(){return this.state.joined?Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{children:["Room ",this.state.rid]}),Object(O.jsx)(y,{rid:this.state.rid,sid:this.state.sid})]}):Object(O.jsxs)("div",{className:"selection",children:[Object(O.jsx)("div",{children:"ROOM CODE"}),Object(O.jsx)("input",{value:this.state.rid,onChange:this.handleRidChange}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("div",{children:"DISPLAY NAME"}),Object(O.jsx)("input",{value:this.state.name,onChange:this.handleNameChange}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("button",{onClick:this.handleJoin,children:"Join"})]})}}]),n}(i.a.Component));var k=function(){return Object(O.jsx)(g,{})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,85)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),i(e),c(e),s(e)}))};s.a.render(Object(O.jsx)(i.a.StrictMode,{children:Object(O.jsx)(k,{})}),document.getElementById("root")),console.log(b),w()}},[[84,1,2]]]);
//# sourceMappingURL=main.cc83556d.chunk.js.map